请对Stratix框架进行全面分析与重构设计，该框架需要基于Fastify的能力进行包装和优化，分析现在有项目架构的优缺点

1. **分析阶段**：
   - 分析现有Stratix框架的代码结构、模块组织和依赖关系
   - 评估框架当前架构的优缺点，包括性能、可维护性、扩展性等方面
   - 提出具体的优化方向和改进建议，并说明每项建议的预期收益
   - 使用context7阅读fastify 5和Awilix最新的特性和能力

2. **重构设计**：
   - 采用函数式编程范式重构核心库，明确说明如何应用函数式编程原则
   - 设计全新的框架架构（不考虑向后兼容性）
   - 将详细设计文档保存到`docs`目录，包括架构图、模块说明和示例代码

3. **核心功能设计**：
   - **配置管理**：
     - 设计`stratix.config.ts`文件结构和API
     - 实现类型安全的配置获取机制
     - 支持环境变量覆盖和配置合并
   - **应用启动**：
     - 实现`StratixApp.run()`一行代码启动应用
     - 设计启动生命周期钩子
     - 支持优雅关闭
   - **插件系统**：
     - 基于Fastify的插件系统，设计插件注册和生命周期管理
     - 实现"库+配置"的插件加载机制，支持TypeScript类型推导
     - 设计零配置或极简配置的插件自动加载机制
     - 明确数据库、缓存、队列等功能插件的标准接口
   - **核心服务**：
     - 设计基于Fastify log对象的日志系统（pino），支持结构化日志和日志级别，支持开发环境日志美化
     - 设计基于Awilix的依赖注入(DI)系统，支持构造函数注入和属性注入
   - **Web支持**：
     - 基于Fastify实现Web功能，作为可选插件
     - 设计RESTful API开发的标准模式和装饰器

4. **插件开发规范**：
   - 制定详细的插件开发指南，包括目录结构和命名规范
   - 能力插件如何基于框架核心能力(日志、依赖注入)进行开发
   - 功能插件基于能力插件和框架核心能力进行开发
   - 功能插件规范化，通过文件组织方式，包括仓储层(Repository)、服务层(Service)和控制层(Controller)，使用Awilix的loadModules从特定文件夹加载不同的层模块
   - 提供插件开发的最佳实践和示例代码

请提供以下内容：
1. 项目的详细分析报告（包括核心模块和插件系统的关系）
2. 项目重构优化和进化详细设计文档，从core库开始
3. 重构任务分解方案
4. 重构工作清单checklist