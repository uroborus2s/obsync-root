# Toast æé†’ç»„ä»¶ä½¿ç”¨è¯´æ˜

## æ¦‚è¿°
å·²æˆåŠŸä¸ºStudentDashboard.tsxå’ŒLeave.tsxé¡µé¢é›†æˆäº†shadcn/uié£æ ¼çš„Toastæé†’ç»„ä»¶ï¼Œæé†’ä½ç½®ä½äºå±å¹•é¡¶éƒ¨ä¸­å¤®ã€‚

## åŠŸèƒ½ç‰¹æ€§
- âœ… å±å¹•é¡¶éƒ¨ä¸­å¤®æ˜¾ç¤º
- âœ… æ”¯æŒæˆåŠŸã€é”™è¯¯ã€è­¦å‘Šã€ä¿¡æ¯å››ç§ç±»å‹
- âœ… è‡ªåŠ¨æ¶ˆå¤±ï¼ˆå¯é…ç½®æ—¶é•¿ï¼‰
- âœ… æ‰‹åŠ¨å…³é—­æŒ‰é’®
- âœ… å¹³æ»‘åŠ¨ç”»æ•ˆæœ
- âœ… å“åº”å¼è®¾è®¡

## å·²é›†æˆé¡µé¢

### 1. StudentDashboard é¡µé¢
- ç­¾åˆ°æˆåŠŸ/å¤±è´¥æé†’
- æ™ºèƒ½çŠ¶æ€æ˜¾ç¤ºé€»è¾‘
- æŒ‰é’®æ§åˆ¶ä¼˜åŒ–

### 2. Leave é¡µé¢ (æ–°å¢)
- æ›¿æ¢æ‰€æœ‰alertå¼¹çª—ä¸ºToastæé†’
- è¯·å‡ç”³è¯·æäº¤æˆåŠŸ/å¤±è´¥æé†’
- æ–‡ä»¶ä¸Šä¼ æˆåŠŸæé†’
- é™„ä»¶ç§»é™¤æé†’
- è¡¨å•éªŒè¯æé†’

## ç­¾åˆ°çŠ¶æ€æ˜¾ç¤ºé€»è¾‘

### çŠ¶æ€ç±»å‹
æ ¹æ®`attendance_status.status`å­—æ®µæ˜¾ç¤ºä¸åŒçš„çŠ¶æ€ï¼š

1. **å·²ç­¾åˆ°** (`is_checked_in: true`)
   - å›¾æ ‡ï¼šâœ“ (ç»¿è‰²)
   - æ˜¾ç¤ºï¼šç­¾åˆ°æ—¶é—´
   - æŒ‰é’®ï¼šéšè—æ‰€æœ‰æ“ä½œæŒ‰é’®

2. **è¯·å‡å®¡æ‰¹ä¸­** (`status: "leave_pending"`)
   - å›¾æ ‡ï¼šâ³ (é»„è‰²)
   - æ˜¾ç¤ºï¼šè¯·å‡ç”³è¯·æ­£åœ¨å®¡æ‰¹ä¸­ï¼Œè¯·è€å¿ƒç­‰å¾…
   - æŒ‰é’®ï¼šéšè—æ‰€æœ‰æ“ä½œæŒ‰é’®

3. **å·²è¯·å‡** (`status: "leave"`)
   - å›¾æ ‡ï¼šğŸ“ (æ©™è‰²)
   - æ˜¾ç¤ºï¼šè¯·å‡ç”³è¯·å·²é€šè¿‡å®¡æ‰¹
   - æŒ‰é’®ï¼šéšè—æ‰€æœ‰æ“ä½œæŒ‰é’®

4. **æœªç­¾åˆ°** (å…¶ä»–çŠ¶æ€)
   - å›¾æ ‡ï¼šâ° (ç°è‰²)
   - æ˜¾ç¤ºï¼šå½“å‰æ—¶é—´
   - æŒ‰é’®ï¼šæ˜¾ç¤ºç­¾åˆ°å’Œè¯·å‡æŒ‰é’®

### æŒ‰é’®æ˜¾ç¤ºè§„åˆ™
æ“ä½œæŒ‰é’®åªåœ¨ä»¥ä¸‹æƒ…å†µæ˜¾ç¤ºï¼š
- `is_checked_in: false` (æœªç­¾åˆ°)
- `status !== "leave"` (éå·²è¯·å‡çŠ¶æ€)
- `status !== "leave_pending"` (éå®¡æ‰¹ä¸­çŠ¶æ€)

### æŒ‰é’®çŠ¶æ€æ§åˆ¶
- **ç­¾åˆ°æŒ‰é’®**ï¼šæ ¹æ®`can_checkin`å­—æ®µæ§åˆ¶æ˜¯å¦å¯ç”¨
- **è¯·å‡æŒ‰é’®**ï¼šæ ¹æ®`can_leave`å­—æ®µæ§åˆ¶æ˜¯å¦å¯ç”¨

## Leaveé¡µé¢ä¼˜åŒ–

### 1. Toastæé†’æ›¿æ¢
- âœ… è¡¨å•éªŒè¯æé†’ï¼ˆè­¦å‘Šç±»å‹ï¼‰
- âœ… è¯·å‡ç”³è¯·æˆåŠŸæé†’ï¼ˆæˆåŠŸç±»å‹ï¼‰
- âœ… æäº¤å¤±è´¥æé†’ï¼ˆé”™è¯¯ç±»å‹ï¼‰
- âœ… æ–‡ä»¶ä¸Šä¼ æˆåŠŸæé†’ï¼ˆæˆåŠŸç±»å‹ï¼‰
- âœ… é™„ä»¶ç§»é™¤æé†’ï¼ˆä¿¡æ¯ç±»å‹ï¼‰

### 2. å¯¼èˆªä¼˜åŒ–
- è¯·å‡æˆåŠŸåè‡ªåŠ¨å¯¼èˆªåˆ°StudentDashboardé¡µé¢
- å»¶è¿Ÿ1.5ç§’åè·³è½¬ï¼Œç¡®ä¿ç”¨æˆ·çœ‹åˆ°æˆåŠŸæé†’
- ä¿æŒattendance_record_idå‚æ•°ä¼ é€’

### 3. ç”¨æˆ·ä½“éªŒæå‡
- æ›´å‹å¥½çš„é”™è¯¯æç¤º
- å®æ—¶åé¦ˆæ“ä½œç»“æœ
- æ— éœ€æ‰‹åŠ¨å…³é—­å¼¹çª—

## å®ç°æ–¹å¼

### 1. è‡ªå®šä¹‰Toastç»„ä»¶
åˆ›å»ºäº†åŸºäºReact Contextçš„Toastç»„ä»¶ç³»ç»Ÿï¼š
- `components/ui/toast.tsx` - Toastç»„ä»¶å’ŒProvider
- `hooks/use-toast.ts` - Toastä½¿ç”¨hook

### 2. é¡µé¢é›†æˆ
- ä½¿ç”¨`ToastProvider`åŒ…è£…æ•´ä¸ªç»„ä»¶
- åœ¨å…³é”®æ“ä½œæ—¶æ˜¾ç¤ºç›¸åº”æé†’
- æ›¿æ¢äº†åŸæœ‰çš„`alert()`å¼¹çª—

## ä½¿ç”¨ç¤ºä¾‹

### StudentDashboard æˆåŠŸæé†’
```typescript
toast.success('ç­¾åˆ°æˆåŠŸï¼', {
  description: 'æ‚¨å·²æˆåŠŸå®Œæˆè¯¾ç¨‹ç­¾åˆ°ï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰',
  duration: 3000
});
```

### Leaveé¡µé¢ è¡¨å•éªŒè¯
```typescript
toast.warning('è¯·å¡«å†™è¯·å‡åŸå› ', {
  description: 'è¯·å‡åŸå› ä¸èƒ½ä¸ºç©º',
  duration: 3000
});
```

### Leaveé¡µé¢ è¯·å‡æˆåŠŸ
```typescript
toast.success('è¯·å‡ç”³è¯·æäº¤æˆåŠŸï¼', {
  description: 'æ‚¨çš„è¯·å‡ç”³è¯·å·²æäº¤ï¼Œç­‰å¾…å®¡æ‰¹',
  duration: 3000
});

// å»¶è¿Ÿè·³è½¬åˆ°StudentDashboard
setTimeout(() => {
  navigate(`/student/dashboard?id=${encodeURIComponent(attendanceId)}`);
}, 1500);
```

### æ–‡ä»¶æ“ä½œæé†’
```typescript
// æ–‡ä»¶ä¸Šä¼ æˆåŠŸ
toast.success('æ–‡ä»¶ä¸Šä¼ æˆåŠŸ', {
  description: `å·²æ·»åŠ  ${newFiles.length} ä¸ªé™„ä»¶`,
  duration: 2000
});

// é™„ä»¶ç§»é™¤
toast.info('é™„ä»¶å·²ç§»é™¤', {
  duration: 2000
});
```

## Toastç±»å‹
- `success` - ç»¿è‰²èƒŒæ™¯ï¼ŒæˆåŠŸå›¾æ ‡ âœ“
- `error` - çº¢è‰²èƒŒæ™¯ï¼Œé”™è¯¯å›¾æ ‡ âœ•
- `warning` - é»„è‰²èƒŒæ™¯ï¼Œè­¦å‘Šå›¾æ ‡ âš 
- `info` - è“è‰²èƒŒæ™¯ï¼Œä¿¡æ¯å›¾æ ‡ â„¹

## æ ·å¼ç‰¹ç‚¹
- ä½ç½®ï¼šå±å¹•é¡¶éƒ¨ä¸­å¤®
- åŠ¨ç”»ï¼šä»é¡¶éƒ¨æ»‘å…¥
- å“åº”å¼ï¼šé€‚é…ç§»åŠ¨ç«¯
- è‡ªåŠ¨æ¶ˆå¤±ï¼š2-4ç§’åè‡ªåŠ¨å…³é—­
- æ‰‹åŠ¨å…³é—­ï¼šç‚¹å‡»å³ä¸Šè§’Ã—æŒ‰é’®

## æŠ€æœ¯å®ç°
- åŸºäºReact Context API
- ä½¿ç”¨Tailwind CSSæ ·å¼
- æ”¯æŒTypeScriptç±»å‹æ£€æŸ¥
- æ— éœ€å¤–éƒ¨ä¾èµ–ï¼ˆå¦‚sonnerï¼‰

## æ³¨æ„äº‹é¡¹
1. å¿…é¡»åœ¨`ToastProvider`å†…ä½¿ç”¨`useToast` hook
2. Toastä¼šè‡ªåŠ¨å †å æ˜¾ç¤ºå¤šä¸ªæé†’
3. æ¯ä¸ªToastéƒ½æœ‰å”¯ä¸€IDï¼Œé¿å…é‡å¤æ˜¾ç¤º
4. æ”¯æŒè‡ªå®šä¹‰æŒç»­æ—¶é—´å’Œæè¿°æ–‡æœ¬
5. çŠ¶æ€æ˜¾ç¤ºå®Œå…¨åŸºäºåç«¯è¿”å›çš„`attendance_status`æ•°æ®
6. Leaveé¡µé¢è¯·å‡æˆåŠŸåä¼šè‡ªåŠ¨è·³è½¬åˆ°StudentDashboard

## çŠ¶æ€ç¤ºä¾‹æ•°æ®
```json
{
  "attendance_status": {
    "is_checked_in": false,
    "status": "leave_pending",
    "can_checkin": false,
    "can_leave": false,
    "auto_start_time": "2025-06-27T09:50:00+08:00",
    "auto_close_time": "2025-06-27T11:25:00+08:00"
  }
}
```

## é¡µé¢æµç¨‹
1. **StudentDashboard** - æŸ¥çœ‹è¯¾ç¨‹çŠ¶æ€ï¼Œé€‰æ‹©ç­¾åˆ°æˆ–è¯·å‡
2. **Leaveé¡µé¢** - å¡«å†™è¯·å‡ç”³è¯·ï¼Œæäº¤åæ˜¾ç¤ºæˆåŠŸToast
3. **è‡ªåŠ¨è·³è½¬** - 1.5ç§’åè¿”å›StudentDashboardï¼Œæ˜¾ç¤º"è¯·å‡å®¡æ‰¹ä¸­"çŠ¶æ€

## æœªæ¥æ‰©å±•
å¦‚éœ€æ›´å¤šåŠŸèƒ½ï¼Œå¯ä»¥è€ƒè™‘ï¼š
- æ·»åŠ æ“ä½œæŒ‰é’®
- æ”¯æŒæ›´å¤šä½ç½®é€‰é¡¹
- æ·»åŠ å£°éŸ³æé†’
- é›†æˆåˆ°å…¶ä»–é¡µé¢ç»„ä»¶
- æ‰¹é‡è¯·å‡åŠŸèƒ½ 