<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CapsuleX - 镜像管理</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
        }
        
        body {
            background-color: #f8fafc;
            color: #1e293b;
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
        }
        
        .sidebar {
            width: 240px;
            background-color: white;
            border-right: 1px solid #e2e8f0;
            height: 100vh;
            position: fixed;
            left: 0;
            top: 0;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }
        
        .sidebar-logo {
            padding: 20px;
            display: flex;
            align-items: center;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .sidebar-logo svg {
            width: 32px;
            height: 32px;
            margin-right: 12px;
        }
        
        .sidebar-logo-text {
            font-size: 18px;
            font-weight: 600;
            color: #0f172a;
        }
        
        .sidebar-menu {
            padding: 16px 0;
            flex: 1;
        }
        
        .menu-label {
            font-size: 12px;
            font-weight: 500;
            color: #64748b;
            padding: 0 20px;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        .menu-item {
            padding: 10px 20px;
            display: flex;
            align-items: center;
            color: #64748b;
            transition: all 0.2s;
            cursor: pointer;
        }
        
        .menu-item:hover {
            background-color: #f1f5f9;
            color: #0f172a;
        }
        
        .menu-item.active {
            background-color: #eff6ff;
            color: #0066ff;
            border-right: 2px solid #0066ff;
        }
        
        .menu-item svg {
            width: 18px;
            height: 18px;
            margin-right: 12px;
        }
        
        .menu-text {
            font-size: 14px;
            font-weight: 500;
        }
        
        .content {
            margin-left: 240px;
            padding: 20px;
            flex: 1;
        }
        
        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }
        
        .page-title {
            font-size: 24px;
            font-weight: 600;
            color: #0f172a;
        }
        
        .user-menu {
            display: flex;
            align-items: center;
        }
        
        .notifications {
            width: 40px;
            height: 40px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin-right: 12px;
            position: relative;
        }
        
        .notifications:hover {
            background-color: #f1f5f9;
        }
        
        .notification-badge {
            position: absolute;
            top: 6px;
            right: 6px;
            width: 16px;
            height: 16px;
            border-radius: 8px;
            background-color: #ef4444;
            color: white;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 20px;
            background-color: #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            overflow: hidden;
        }
        
        .action-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }
        
        .search-container {
            display: flex;
            align-items: center;
            background-color: white;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            padding: 0 12px;
            width: 320px;
        }
        
        .search-input {
            border: none;
            height: 36px;
            flex: 1;
            font-size: 14px;
        }
        
        .search-input:focus {
            outline: none;
        }
        
        .search-icon {
            color: #94a3b8;
            margin-right: 8px;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: 500;
            border-radius: 4px;
            padding: 0 16px;
            height: 36px;
            font-size: 14px;
            transition: all 0.2s;
            cursor: pointer;
        }
        
        .btn-primary {
            background-color: #0066ff;
            color: white;
            border: none;
        }
        
        .btn-primary:hover {
            background-color: #0050cc;
        }
        
        .btn-text {
            background-color: transparent;
            color: #0066ff;
            border: none;
        }
        
        .btn-text:hover {
            background-color: #f0f7ff;
        }
        
        .filter-bar {
            display: flex;
            margin-bottom: 16px;
            background-color: white;
            border-radius: 4px;
            padding: 8px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
        
        .filter-item {
            padding: 8px 16px;
            font-size: 14px;
            color: #64748b;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .filter-item:hover {
            background-color: #f1f5f9;
            color: #0f172a;
        }
        
        .filter-item.active {
            background-color: #eff6ff;
            color: #0066ff;
            font-weight: 500;
        }
        
        .images-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .image-card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .image-header {
            padding: 16px;
            display: flex;
            align-items: center;
            border-bottom: 1px solid #f1f5f9;
        }
        
        .image-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            background-color: #f1f5f9;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
        }
        
        .image-info {
            flex: 1;
        }
        
        .image-name {
            font-size: 16px;
            font-weight: 600;
            color: #0f172a;
        }
        
        .image-tag {
            font-size: 12px;
            color: #64748b;
        }
        
        .image-body {
            padding: 16px;
        }
        
        .image-meta {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 16px;
        }
        
        .meta-item {
            display: flex;
            flex-direction: column;
        }
        
        .meta-label {
            font-size: 12px;
            color: #64748b;
            margin-bottom: 4px;
        }
        
        .meta-value {
            font-size: 14px;
            color: #0f172a;
        }
        
        .image-actions {
            display: flex;
            gap: 8px;
            border-top: 1px solid #f1f5f9;
            padding-top: 16px;
        }
        
        .image-list {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .image-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .image-table th {
            text-align: left;
            padding: 12px 16px;
            font-size: 12px;
            font-weight: 500;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            background-color: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .image-table td {
            padding: 16px;
            font-size: 14px;
            border-bottom: 1px solid #e2e8f0;
            color: #334155;
        }
        
        .image-table tr:last-child td {
            border-bottom: none;
        }
        
        .image-table tr:hover {
            background-color: #f8fafc;
        }
        
        .tabs {
            display: flex;
            margin-bottom: 16px;
        }
        
        .tab {
            padding: 8px 16px;
            font-size: 14px;
            font-weight: 500;
            color: #64748b;
            cursor: pointer;
            transition: all 0.2s;
            border-bottom: 2px solid transparent;
        }
        
        .tab:hover {
            color: #0f172a;
        }
        
        .tab.active {
            color: #0066ff;
            border-bottom-color: #0066ff;
        }
    </style>
    <script>
        // 页面跳转函数
        function navigateTo(page) {
            window.location.href = page;
        }
        
        // 打开拉取镜像模态窗口
        function openPullImageModal() {
            document.getElementById('pull-image-modal').style.display = 'flex';
        }
        
        // 打开上传镜像模态窗口
        function openUploadImageModal() {
            document.getElementById('upload-image-modal').style.display = 'flex';
        }
        
        // 关闭模态窗口
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
        
        // 模拟拉取镜像
        function pullImage() {
            const repository = document.getElementById('image-repository').value;
            const tag = document.getElementById('image-tag').value;
            
            if (!repository) {
                alert('请输入镜像仓库');
                return;
            }
            
            const imageName = tag ? `${repository}:${tag}` : repository;
            
            // 显示进度对话框
            closeModal('pull-image-modal');
            document.getElementById('pull-progress-modal').style.display = 'flex';
            
            // 模拟进度更新
            let progress = 0;
            const progressBar = document.getElementById('pull-progress-bar');
            const progressText = document.getElementById('pull-progress-text');
            const statusText = document.getElementById('pull-status-text');
            
            const updateProgress = () => {
                progress += Math.random() * 10;
                if (progress > 100) progress = 100;
                
                progressBar.style.width = `${progress}%`;
                progressText.textContent = `${Math.round(progress)}%`;
                
                if (progress < 30) {
                    statusText.textContent = '正在连接镜像仓库...';
                } else if (progress < 60) {
                    statusText.textContent = `正在下载镜像层 (${Math.round(progress/10)}/10)...`;
                } else if (progress < 90) {
                    statusText.textContent = '正在提取镜像层...';
                } else if (progress < 100) {
                    statusText.textContent = '正在验证镜像完整性...';
                } else {
                    statusText.textContent = '拉取完成！';
                    // 完成后关闭进度对话框
                    setTimeout(() => {
                        closeModal('pull-progress-modal');
                        alert(`镜像 ${imageName} 拉取成功！`);
                        // 这里应该刷新镜像列表
                    }, 1000);
                    return;
                }
                
                if (progress < 100) {
                    setTimeout(updateProgress, 300 + Math.random() * 500);
                }
            };
            
            setTimeout(updateProgress, 500);
        }
        
        // 模拟上传镜像
        function uploadImage() {
            const fileName = document.getElementById('image-file').value;
            
            if (!fileName) {
                alert('请选择镜像文件');
                return;
            }
            
            // 显示进度对话框
            closeModal('upload-image-modal');
            document.getElementById('upload-progress-modal').style.display = 'flex';
            
            // 模拟进度更新
            let progress = 0;
            const progressBar = document.getElementById('upload-progress-bar');
            const progressText = document.getElementById('upload-progress-text');
            const statusText = document.getElementById('upload-status-text');
            
            const updateProgress = () => {
                progress += Math.random() * 8;
                if (progress > 100) progress = 100;
                
                progressBar.style.width = `${progress}%`;
                progressText.textContent = `${Math.round(progress)}%`;
                
                if (progress < 40) {
                    statusText.textContent = '正在上传镜像文件...';
                } else if (progress < 80) {
                    statusText.textContent = '正在处理镜像数据...';
                } else if (progress < 100) {
                    statusText.textContent = '正在导入镜像...';
                } else {
                    statusText.textContent = '上传完成！';
                    // 完成后关闭进度对话框
                    setTimeout(() => {
                        closeModal('upload-progress-modal');
                        const imageName = fileName.split('\\').pop().split('/').pop();
                        alert(`镜像 ${imageName} 上传成功！`);
                        // 这里应该刷新镜像列表
                    }, 1000);
                    return;
                }
                
                if (progress < 100) {
                    setTimeout(updateProgress, 400 + Math.random() * 600);
                }
            };
            
            setTimeout(updateProgress, 500);
        }
    </script>
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-logo">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="#0066FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M2 17L12 22L22 17" stroke="#0066FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M2 12L12 17L22 12" stroke="#0066FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <div class="sidebar-logo-text">CapsuleX</div>
        </div>
        <div class="sidebar-menu">
            <div class="menu-label">概览</div>
            <div class="menu-item" onclick="navigateTo('dashboard.html')">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                </svg>
                <div class="menu-text">仪表盘</div>
            </div>
            
            <div class="menu-label">Docker</div>
            <div class="menu-item" onclick="navigateTo('containers.html')">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
                </svg>
                <div class="menu-text">容器管理</div>
            </div>
            <div class="menu-item active">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4" />
                </svg>
                <div class="menu-text">镜像管理</div>
            </div>
            <div class="menu-item" onclick="navigateTo('compose.html')">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
                </svg>
                <div class="menu-text">Docker Compose</div>
            </div>
        </div>
    </div>
    
    <div class="content">
        <div class="top-bar">
            <h1 class="page-title">镜像管理</h1>
            <div class="user-menu">
                <div class="notifications">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                    </svg>
                    <div class="notification-badge">3</div>
                </div>
                <div class="user-avatar">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                    </svg>
                </div>
            </div>
        </div>
        
        <div class="tabs">
            <div class="tab active">本地镜像</div>
            <div class="tab">镜像仓库</div>
        </div>
        
        <div class="action-bar">
            <div class="search-container">
                <div class="search-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                </div>
                <input type="text" class="search-input" placeholder="搜索镜像..." aria-label="搜索镜像">
            </div>
            <div class="action-buttons">
                <button class="btn btn-secondary" onclick="openPullImageModal()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="mr-2">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                    </svg>
                    拉取镜像
                </button>
                <button class="btn btn-primary" onclick="openUploadImageModal()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="mr-2">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12" />
                    </svg>
                    上传镜像
                </button>
            </div>
        </div>
        
        <div class="filter-bar">
            <div class="filter-item active">全部</div>
            <div class="filter-item">常用</div>
            <div class="filter-item">自定义</div>
        </div>
        
        <div class="images-grid">
            <div class="image-card">
                <div class="image-header">
                    <div class="image-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="#0066ff">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4" />
                        </svg>
                    </div>
                    <div class="image-info">
                        <div class="image-name">nginx</div>
                        <div class="image-tag">latest</div>
                    </div>
                </div>
                <div class="image-body">
                    <div class="image-meta">
                        <div class="meta-item">
                            <div class="meta-label">ID</div>
                            <div class="meta-value">f9c14fe7</div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-label">大小</div>
                            <div class="meta-value">142MB</div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-label">创建时间</div>
                            <div class="meta-value">3天前</div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-label">使用中</div>
                            <div class="meta-value">2个容器</div>
                        </div>
                    </div>
                    <div class="image-actions">
                        <button class="btn btn-primary" onclick="navigateTo('container_create.html')">创建容器</button>
                        <button class="btn btn-text" onclick="navigateTo('image_detail.html?id=f9c14fe7')">查看详情</button>
                    </div>
                </div>
            </div>
            
            <div class="image-card">
                <div class="image-header">
                    <div class="image-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="#0066ff">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4" />
                        </svg>
                    </div>
                    <div class="image-info">
                        <div class="image-name">mysql</div>
                        <div class="image-tag">8.0</div>
                    </div>
                </div>
                <div class="image-body">
                    <div class="image-meta">
                        <div class="meta-item">
                            <div class="meta-label">ID</div>
                            <div class="meta-value">2c6d82a1</div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-label">大小</div>
                            <div class="meta-value">524MB</div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-label">创建时间</div>
                            <div class="meta-value">1周前</div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-label">使用中</div>
                            <div class="meta-value">1个容器</div>
                        </div>
                    </div>
                    <div class="image-actions">
                        <button class="btn btn-primary" onclick="navigateTo('container_create.html')">创建容器</button>
                        <button class="btn btn-text" onclick="navigateTo('image_detail.html?id=2c6d82a1')">查看详情</button>
                    </div>
                </div>
            </div>
            
            <div class="image-card">
                <div class="image-header">
                    <div class="image-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="#0066ff">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4" />
                        </svg>
                    </div>
                    <div class="image-info">
                        <div class="image-name">redis</div>
                        <div class="image-tag">6.2</div>
                    </div>
                </div>
                <div class="image-body">
                    <div class="image-meta">
                        <div class="meta-item">
                            <div class="meta-label">ID</div>
                            <div class="meta-value">7614ae93</div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-label">大小</div>
                            <div class="meta-value">112MB</div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-label">创建时间</div>
                            <div class="meta-value">5天前</div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-label">使用中</div>
                            <div class="meta-value">1个容器</div>
                        </div>
                    </div>
                    <div class="image-actions">
                        <button class="btn btn-primary" onclick="navigateTo('container_create.html')">创建容器</button>
                        <button class="btn btn-text" onclick="navigateTo('image_detail.html?id=7614ae93')">查看详情</button>
                    </div>
                </div>
            </div>
            
            <div class="image-card">
                <div class="image-header">
                    <div class="image-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="#0066ff">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4" />
                        </svg>
                    </div>
                    <div class="image-info">
                        <div class="image-name">node</div>
                        <div class="image-tag">16</div>
                    </div>
                </div>
                <div class="image-body">
                    <div class="image-meta">
                        <div class="meta-item">
                            <div class="meta-label">ID</div>
                            <div class="meta-value">45fa9bc3</div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-label">大小</div>
                            <div class="meta-value">942MB</div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-label">创建时间</div>
                            <div class="meta-value">2周前</div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-label">使用中</div>
                            <div class="meta-value">0个容器</div>
                        </div>
                    </div>
                    <div class="image-actions">
                        <button class="btn btn-primary" onclick="navigateTo('container_create.html')">创建容器</button>
                        <button class="btn btn-text" onclick="navigateTo('image_detail.html?id=45fa9bc3')">查看详情</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 拉取镜像模态窗口 -->
    <div id="pull-image-modal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 500px;">
            <div class="modal-header">
                <h3 class="modal-title">拉取镜像</h3>
                <div class="modal-close" onclick="closeModal('pull-image-modal')">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </div>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group" style="margin-bottom: 16px;">
                        <label for="image-repository" style="display: block; margin-bottom: 8px; font-size: 14px; font-weight: 500; color: #334155;">镜像仓库/名称</label>
                        <input type="text" id="image-repository" class="form-input" style="width: 100%; height: 40px; padding: 0 12px; font-size: 14px; border: 1px solid #cbd5e1; border-radius: 4px;" placeholder="例如: nginx 或 username/app" aria-label="镜像仓库/名称">
                    </div>
                    <div class="form-group" style="margin-bottom: 16px;">
                        <label for="image-tag" style="display: block; margin-bottom: 8px; font-size: 14px; font-weight: 500; color: #334155;">标签 (Tag)</label>
                        <input type="text" id="image-tag" class="form-input" style="width: 100%; height: 40px; padding: 0 12px; font-size: 14px; border: 1px solid #cbd5e1; border-radius: 4px;" placeholder="例如: latest, 1.0, stable" value="latest" aria-label="镜像标签">
                    </div>
                    <div class="form-group" style="margin-bottom: 16px;">
                        <label for="image-registry" style="display: block; margin-bottom: 8px; font-size: 14px; font-weight: 500; color: #334155;">镜像仓库服务</label>
                        <select id="image-registry" class="form-input" style="width: 100%; height: 40px; padding: 0 12px; font-size: 14px; border: 1px solid #cbd5e1; border-radius: 4px;" aria-label="镜像仓库服务">
                            <option value="docker.io">Docker Hub (docker.io)</option>
                            <option value="ghcr.io">GitHub Container Registry (ghcr.io)</option>
                            <option value="registry.cn-hangzhou.aliyuncs.com">阿里云 (registry.cn-hangzhou.aliyuncs.com)</option>
                            <option value="registry.hub.docker.com">Docker Hub 镜像 (registry.hub.docker.com)</option>
                            <option value="custom">自定义...</option>
                        </select>
                    </div>
                    <div id="custom-registry" class="form-group" style="margin-bottom: 16px; display: none;">
                        <label for="custom-registry-url" style="display: block; margin-bottom: 8px; font-size: 14px; font-weight: 500; color: #334155;">自定义仓库地址</label>
                        <input type="text" id="custom-registry-url" class="form-input" style="width: 100%; height: 40px; padding: 0 12px; font-size: 14px; border: 1px solid #cbd5e1; border-radius: 4px;" placeholder="例如: registry.example.com" aria-label="自定义仓库地址">
                    </div>
                    <div class="form-group" style="margin-bottom: 16px;">
                        <div style="display: flex; align-items: center;">
                            <input type="checkbox" id="use-credentials" style="margin-right: 8px;" aria-label="使用认证凭据">
                            <label for="use-credentials" style="font-size: 14px; color: #334155;">使用认证凭据</label>
                        </div>
                    </div>
                    <div id="credentials-fields" style="display: none; margin-bottom: 16px;">
                        <div class="form-group" style="margin-bottom: 16px;">
                            <label for="registry-username" style="display: block; margin-bottom: 8px; font-size: 14px; font-weight: 500; color: #334155;">用户名</label>
                            <input type="text" id="registry-username" class="form-input" style="width: 100%; height: 40px; padding: 0 12px; font-size: 14px; border: 1px solid #cbd5e1; border-radius: 4px;" placeholder="输入用户名" aria-label="用户名">
                        </div>
                        <div class="form-group">
                            <label for="registry-password" style="display: block; margin-bottom: 8px; font-size: 14px; font-weight: 500; color: #334155;">密码</label>
                            <input type="password" id="registry-password" class="form-input" style="width: 100%; height: 40px; padding: 0 12px; font-size: 14px; border: 1px solid #cbd5e1; border-radius: 4px;" placeholder="输入密码" aria-label="密码">
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer" style="display: flex; justify-content: flex-end; gap: 12px; padding: 16px 24px; border-top: 1px solid #e2e8f0;">
                <button class="btn btn-secondary" style="height: 40px; padding: 0 16px; border-radius: 4px; font-size: 14px; font-weight: 500;" onclick="closeModal('pull-image-modal')">取消</button>
                <button class="btn btn-primary" style="height: 40px; padding: 0 16px; border-radius: 4px; font-size: 14px; font-weight: 500;" onclick="pullImage()">拉取</button>
            </div>
        </div>
    </div>

    <!-- 上传镜像模态窗口 -->
    <div id="upload-image-modal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 500px;">
            <div class="modal-header">
                <h3 class="modal-title">上传镜像</h3>
                <div class="modal-close" onclick="closeModal('upload-image-modal')">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </div>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group" style="margin-bottom: 16px;">
                        <label style="display: block; margin-bottom: 8px; font-size: 14px; font-weight: 500; color: #334155;">选择方式</label>
                        <div style="display: flex; gap: 12px;">
                            <div style="flex: 1;">
                                <input type="radio" id="upload-from-file" name="upload-type" checked style="margin-right: 8px;" aria-label="从文件上传">
                                <label for="upload-from-file" style="font-size: 14px; color: #334155;">上传本地文件</label>
                            </div>
                            <div style="flex: 1;">
                                <input type="radio" id="upload-from-url" name="upload-type" style="margin-right: 8px;" aria-label="从URL上传">
                                <label for="upload-from-url" style="font-size: 14px; color: #334155;">从URL导入</label>
                            </div>
                        </div>
                    </div>
                    
                    <div id="file-upload-section">
                        <div class="form-group" style="margin-bottom: 16px;">
                            <label for="image-file" style="display: block; margin-bottom: 8px; font-size: 14px; font-weight: 500; color: #334155;">镜像文件</label>
                            <div style="display: flex; gap: 8px;">
                                <input type="text" id="image-file" class="form-input" style="flex: 1; height: 40px; padding: 0 12px; font-size: 14px; border: 1px solid #cbd5e1; border-radius: 4px;" placeholder="选择文件..." readonly aria-label="镜像文件">
                                <button type="button" class="btn btn-secondary" style="height: 40px; padding: 0 16px; border-radius: 4px; font-size: 14px; font-weight: 500;" onclick="document.getElementById('image-file').value = 'example.tar';">浏览...</button>
                            </div>
                            <div style="font-size: 12px; color: #64748b; margin-top: 4px;">支持 .tar, .tar.gz 或 .tgz 格式的 Docker 镜像文件</div>
                        </div>
                        
                        <div class="form-group" style="margin-bottom: 16px;">
                            <label for="image-name-tag" style="display: block; margin-bottom: 8px; font-size: 14px; font-weight: 500; color: #334155;">镜像名称和标签 (可选)</label>
                            <input type="text" id="image-name-tag" class="form-input" style="width: 100%; height: 40px; padding: 0 12px; font-size: 14px; border: 1px solid #cbd5e1; border-radius: 4px;" placeholder="例如: myapp:1.0" aria-label="镜像名称和标签">
                            <div style="font-size: 12px; color: #64748b; margin-top: 4px;">如果不指定，将使用文件中的原始名称和标签</div>
                        </div>
                    </div>
                    
                    <div id="url-upload-section" style="display: none;">
                        <div class="form-group" style="margin-bottom: 16px;">
                            <label for="image-url" style="display: block; margin-bottom: 8px; font-size: 14px; font-weight: 500; color: #334155;">镜像URL</label>
                            <input type="text" id="image-url" class="form-input" style="width: 100%; height: 40px; padding: 0 12px; font-size: 14px; border: 1px solid #cbd5e1; border-radius: 4px;" placeholder="http://example.com/image.tar.gz" aria-label="镜像URL">
                            <div style="font-size: 12px; color: #64748b; margin-top: 4px;">指向镜像文件的直接下载链接</div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer" style="display: flex; justify-content: flex-end; gap: 12px; padding: 16px 24px; border-top: 1px solid #e2e8f0;">
                <button class="btn btn-secondary" style="height: 40px; padding: 0 16px; border-radius: 4px; font-size: 14px; font-weight: 500;" onclick="closeModal('upload-image-modal')">取消</button>
                <button class="btn btn-primary" style="height: 40px; padding: 0 16px; border-radius: 4px; font-size: 14px; font-weight: 500;" onclick="uploadImage()">上传</button>
            </div>
        </div>
    </div>

    <!-- 拉取进度模态窗口 -->
    <div id="pull-progress-modal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 500px;">
            <div class="modal-header">
                <h3 class="modal-title">正在拉取镜像</h3>
            </div>
            <div class="modal-body">
                <div style="margin-bottom: 16px;">
                    <div id="pull-status-text" style="font-size: 14px; color: #334155; margin-bottom: 8px;">正在连接镜像仓库...</div>
                    <div style="background-color: #f1f5f9; height: 8px; border-radius: 4px; overflow: hidden; margin-bottom: 4px;">
                        <div id="pull-progress-bar" style="height: 100%; background-color: #0066ff; width: 0%;"></div>
                    </div>
                    <div style="display: flex; justify-content: space-between; font-size: 12px; color: #64748b;">
                        <span>进度</span>
                        <span id="pull-progress-text">0%</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 上传进度模态窗口 -->
    <div id="upload-progress-modal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 500px;">
            <div class="modal-header">
                <h3 class="modal-title">正在上传镜像</h3>
            </div>
            <div class="modal-body">
                <div style="margin-bottom: 16px;">
                    <div id="upload-status-text" style="font-size: 14px; color: #334155; margin-bottom: 8px;">正在上传镜像文件...</div>
                    <div style="background-color: #f1f5f9; height: 8px; border-radius: 4px; overflow: hidden; margin-bottom: 4px;">
                        <div id="upload-progress-bar" style="height: 100%; background-color: #0066ff; width: 0%;"></div>
                    </div>
                    <div style="display: flex; justify-content: space-between; font-size: 12px; color: #64748b;">
                        <span>进度</span>
                        <span id="upload-progress-text">0%</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html> 