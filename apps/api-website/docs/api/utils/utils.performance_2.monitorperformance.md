<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@stratix/utils](./utils.md) &gt; [performance\_2](./utils.performance_2.md) &gt; [monitorPerformance](./utils.performance_2.monitorperformance.md)

## performance\_2.monitorPerformance() function

持续监控性能并定期报告

设置一个定时器，定期收集资源使用情况并通过回调函数报告

**Signature:**

```typescript
export declare function monitorPerformance(callback: (usage: ResourceUsage) => void, interval?: number): {
    stop: () => void;
};
```

## Parameters

<table><thead><tr><th>

Parameter


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

callback


</td><td>

(usage: [ResourceUsage](./utils.performance_2.resourceusage.md)<!-- -->) =&gt; void


</td><td>

接收资源使用数据的回调函数


</td></tr>
<tr><td>

interval


</td><td>

number


</td><td>

_(Optional)_ 监控间隔时间（毫秒），默认为5000ms


</td></tr>
</tbody></table>
**Returns:**

{ stop: () =&gt; void; }

包含stop方法的对象，用于停止监控

## Remarks

版本: 1.0.0 分类: 资源监控

## Example


```typescript
// 每5秒记录一次资源使用情况
const stopMonitoring = monitorPerformance((usage) => {
  console.log(`[${new Date().toISOString()}]`);
  console.log(`内存: ${(usage.memory.heapUsed / 1024 / 1024).toFixed(2)} MB`);
  console.log(`CPU: ${usage.cpu.percentage.toFixed(2)}%`);
});

// 一小时后停止监控
setTimeout(() => stopMonitoring.stop(), 3600000);
```

