<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@stratix/utils](./utils.md) &gt; [async](./utils.async.md) &gt; [asyncify](./utils.async.asyncify.md)

## async.asyncify() function

将同步函数转换为异步函数（返回Promise）

此函数将一个同步函数包装为返回Promise的异步函数， 使其可以在异步上下文（如async/await）中使用。 如果原函数抛出异常，Promise将被拒绝。

与promisify的区别：promisify用于转换Node.js风格的回调函数(error-first callbacks)， 而asyncify用于转换普通的同步函数。

**Signature:**

```typescript
export declare function asyncify<T extends (...args: any[]) => any>(fn: T): (...args: Parameters<T>) => Promise<ReturnType<T>>;
```

## Parameters

<table><thead><tr><th>

Parameter


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

fn


</td><td>

T


</td><td>

要转换的同步函数


</td></tr>
</tbody></table>
**Returns:**

(...args: Parameters&lt;T&gt;) =&gt; Promise&lt;ReturnType&lt;T&gt;&gt;

返回Promise的异步函数，Promise解析为原函数的返回值

## Exceptions

`TypeError` 如果fn不是函数

如果原函数抛出异常，Promise将被拒绝

## Remarks

版本: 1.0.0 分类: 函数转换

## Example


```typescript
// 基本使用
const syncAdd = (a: number, b: number) => a + b;
const asyncAdd = asyncify(syncAdd);

// 在异步上下文中使用
async function example() {
  const result = await asyncAdd(2, 3);
  console.log(result); // 输出: 5
}

// 错误处理
const syncDivide = (a: number, b: number) => {
  if (b === 0) throw new Error('除数不能为零');
  return a / b;
};

const asyncDivide = asyncify(syncDivide);

try {
  const result = await asyncDivide(10, 0);
} catch (error) {
  console.error(error.message); // 输出: '除数不能为零'
}
```

