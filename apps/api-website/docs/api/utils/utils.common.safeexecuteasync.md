<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@stratix/utils](./utils.md) &gt; [common](./utils.common.md) &gt; [safeExecuteAsync](./utils.common.safeexecuteasync.md)

## common.safeExecuteAsync() function

安全执行异步函数，捕获可能的异常并返回默认值

执行提供的异步函数，如果执行过程中抛出异常，则返回指定的默认值

**Signature:**

```typescript
export declare function safeExecuteAsync<T, D = undefined>(fn: () => Promise<T>, defaultValue?: D): Promise<T | D>;
```

## Parameters

<table><thead><tr><th>

Parameter


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

fn


</td><td>

() =&gt; Promise&lt;T&gt;


</td><td>

要执行的异步函数


</td></tr>
<tr><td>

defaultValue


</td><td>

D


</td><td>

_(Optional)_ 出错时返回的默认值


</td></tr>
</tbody></table>
**Returns:**

Promise&lt;T \| D&gt;

Promise，解析为函数执行结果或默认值

## Remarks

版本: 1.0.0 分类: 错误处理

## Example


```typescript
// 安全获取API数据
const data = await safeExecuteAsync(async () => {
  const response = await fetch('https://api.example.com/data');
  if (!response.ok) throw new Error('API request failed');
  return response.json();
}, { error: true });
// 如果请求失败，返回 { error: true }

// 处理可能超时的操作
const result = await safeExecuteAsync(async () => {
  return await Promise.race([
    fetchData(),
    new Promise((_, reject) => setTimeout(() => reject(new Error('Timeout')), 5000))
  ]);
}, 'timeout');
// 如果操作超时，返回 'timeout'
```

